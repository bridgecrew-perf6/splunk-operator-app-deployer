{
    "branches": [
        '+([0-9])?(.{+([0-9]),x}).x',
        'main',
        'next',
        {
            name: 'next-major',
            prerelease: true
        },
        {
            name: 'develop',
            prerelease: true
        }
    ],
        plugins: [
            [
                "@semantic-release/commit-analyzer",
                {
                    "preset": "conventionalcommits",
                    "presetConfig": "conventional-changelog-conventionalcommits"
                }
            ],
            "@semantic-release/release-notes-generator",
            [
                "@google/semantic-release-replace-plugin",
                {
                    "replacements": [
                        {
                            "files": ["pyproject.toml"],
                            "from": "(version ?=.*)",
                            "to": "version = \"${nextRelease.version}\"",
                            "results": [
                                {
                                    "file": "pyproject.toml",
                                    "hasChanged": true,
                                    "numMatches": 1,
                                    "numReplacements": 1
                                }
                            ],
                            "countMatches": true
                        }
                    ]
                }
            ],
            ["@semantic-release/exec", {
                "prepareCmd": "echo ${nextRelease.version} >package/etc/VERSION"

            }],
            ["@semantic-release/git", {
                "assets": [
                    "pyproject.toml",
                ],
                "message": "chore(release): ${nextRelease.version}\n\n${nextRelease.notes}"
            }],
            ["@semantic-release/github"],
        ]
}